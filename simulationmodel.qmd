---
title: "Simulation Challenge"
subtitle: "Monte Carlo Analysis"
format:
  html: default
  pdf: default
execute:
  echo: true
  eval: true
---

# Simulation Challenge

## The Investment Game

### Original Game Strategy

You are given $1,000 to play this game: Flip a coin each year until age 55. If heads, increase your balance by 50%. If tails, reduce your balance by 40%.

### Modified Game Strategy

Same as above, but you must bet exactly 50% of your current balance on each flip.

## Questions to Answer

### 75% Grade

1. **Expected Value Analysis:** What is the expected value after 1 coin flip for the original game?

```{r}
#| label: expected-value
#| echo: true

# Parameters for the original game
initial_balance <- 1000
heads_multiplier <- 1.5  # +50% gain
tails_multiplier <- 0.6  # -40% loss
probability_heads <- 0.5

# Calculate possible outcomes after 1 coin flip
heads_outcome <- initial_balance * heads_multiplier
tails_outcome <- initial_balance * tails_multiplier

# Calculate expected value
expected_value <- probability_heads * heads_outcome + (1 - probability_heads) * tails_outcome

# Display results
cat("Expected Value Analysis (1 coin flip):\n")
cat("=====================================\n")
cat("Initial balance: $", initial_balance, "\n", sep = "")
cat("Heads outcome (50% gain): $", heads_outcome, "\n", sep = "")
cat("Tails outcome (40% loss): $", tails_outcome, "\n", sep = "")
cat("Probability of heads: ", probability_heads, "\n", sep = "")
cat("Probability of tails: ", 1 - probability_heads, "\n", sep = "")
cat("\nExpected Value = P(Heads) × Heads_Outcome + P(Tails) × Tails_Outcome\n")
cat("Expected Value = ", probability_heads, " × $", heads_outcome, " + ", 1 - probability_heads, " × $", tails_outcome, "\n", sep = "")
cat("Expected Value = $", expected_value, "\n", sep = "")
cat("\nAnswer: The expected value after 1 coin flip is $", expected_value, "\n", sep = "")
```

2. **Expectation vs. Reality:** Is the expected value positive or negative? Do you expect your account to be worth more or less than $1,000?

3. **Single Simulation:** Run one simulation showing account balance over time. Create a plot and comment on the results.

```{r}
#| label: single-simulation
#| echo: true

# Your code here
```

### 85% Grade

4. **Multiple Simulations:** Run 100 simulations. Create a probability distribution plot of final balances at age 55.

```{r}
#| label: multiple-simulations
#| echo: true

# Your code here
```

### 95% Grade

5. **Probability Analysis:** What is the probability that your balance will be greater than $1,000 at age 55?

```{r}
#| label: probability-analysis
#| echo: true

# Your code here
```

### 100% Grade

6. **Strategy Comparison:** Run 100 simulations for the modified strategy. What is the probability of having more than $10,000 at age 55? Compare with the original game.

```{r}
#| label: strategy-comparison
#| echo: true

# Your code here
```